extends layout
block append stylesheet
    link(rel='stylesheets', href='/stylesheets/bootstrap.min.css')
    link(rel='stylesheet', href='https://fonts.googleapis.com/icon?family=Material+Icons')
block content
    .row
        .col-md-12
            h1.page-header #{title}
            //If there is some kind of error, display something went wrong
            if(message)
                .row
                    .col-md-6.col-md-offset-3
                        div.alert.alert-danger(role='alert')
                            .alert-title
                                i.fa.fa-exclamation-circle.fa-2x
                                strong Something went wrong!
                            p !{message}
    .row
        .col-xs-12
            .formTitle
                    //Form for adding observation
                form.form-horizontal(method='post', role='form')
                    .form-group
                        .col-sm-10.col-sm-offset-1
                            .row.text-center(id="Skillarea")
                                if selectedskill != undefined
                                    | Skill Name:
                                    br
                                    textarea(placeholder="Enter Skill Name here...", maxlength="300", id="skillTitleBox" name="skillTitleBox" class="behaviour-title") #{selectedskill[0].skill_title}
                                    script.
                                        //IncrementID
                                        var i = 100000;
                                    each skill, s in selectedskill
                                        br
                                        | Behaviour Description:
                                        br
                                        textarea(placeholder="Enter Behavior Description here...", maxlength="300", id='behaviourid#{skill.behaviour_id}' name='behaviourid#{skill.behaviour_id}' class="behaviour-description") #{skill.behaviour_desc}
                                        script.
                                            //IncrementID
                                            i++;
                                    script.
                                        //Dynamically create behaviour textareas
                                        function addBehaviour() {
                                            var comment = "Behaviour Description:";
                                            var newParagraph = document.createElement("P");
                                            newParagraph.textContent = comment;
                                            document.getElementById("Skillarea").appendChild(newParagraph);
                                            var textarea = document.createElement("TEXTAREA");
                                            textarea.class = "newTextArea";
                                            textarea.id = "behaviourid" + i;
                                            textarea.name = "behaviourid" + i;
                                            textarea.placeholder = "Enter Behavior Description here...";
                                            document.getElementById("Skillarea").appendChild(textarea);
                                            i++;
                                        };
                                else
                                    script.
                                        //Dynamically create behaviour textareas
                                        var i = 2;
                                        function addBehaviour() {
                                            var comment = "Behaviour Description:";
                                            var newParagraph = document.createElement("P");
                                            newParagraph.textContent = comment;
                                            document.getElementById("Skillarea").appendChild(newParagraph);
                                            var textarea = document.createElement("TEXTAREA");
                                            textarea.class = "newTextArea";
                                            textarea.id = "behaviourid" + i;
                                            textarea.name = "behaviourid" + i;
                                            textarea.placeholder = "Enter Behavior Description here...";
                                            document.getElementById("Skillarea").appendChild(textarea);
                                            i++;
                                        };
                                    | Skill Name:
                                    br
                                    textarea(placeholder="Enter Skill Name", maxlength="300", id="skillid1" name="skillid1" class="behaviour-title")
                                    br
                                    | Behaviour Description:
                                    br
                                    textarea(placeholder="Enter Behavior Description here...", maxlength="300", id="behaviourid1" name="behaviourid1" class="behaviour-description")
                            .form-group
                                .col-sm-10.col-sm-offset-1
                                button#AddBehaviour.form-btn.btn.btn-lg.btn-success(name='submit', type='button', onclick='addBehaviour();') Add Behaviour
                                //if we are adding a new skill show the add skill button
                                .row.text-center
                                    button#submitObservation.form-btn.btn.btn-lg.btn-success(name='submit', type='button') Submit