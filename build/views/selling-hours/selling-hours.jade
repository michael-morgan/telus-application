extends ../layout

block append stylesheet
    link(rel='stylesheet', href='/bower_components/bootstrap-daterangepicker/daterangepicker.css')
    link(rel='stylesheet', href='/stylesheets/selling-hours.css')

block content
    .row
        .col-xs-12.col-md-10.col-md-offset-1
            h1.page-header #{title}
            if(success_messages)
                .col-md-10.col-md-offset-1.col-xs-12
                    div#successMessage.alert.success.alert-success(role='success')
                        .alert-title
                            i.fa.fa-check.fa-2x
                            strong Great!
                        p#successParagraph !{success_messages}
            //Deletion message, will only show if a user has removed a transaction
            .col-md-10.col-md-offset-1.col-xs-12
                div#deleteMessage.alert.success.alert-success(role='success')
                    .alert-title
                        i.fa.fa-check.fa-2x
                        strong Great!
                        p#removalMessage
    .row.form-group
        .col-xs-12.col-sm-4
            label(for='store') Store:
            select.form-control(id='store', name='store')
                each store, storeIndex in stores
                    option(value='#{store.store_id}' selected) #{store.store_name}
        .col-xs-12.col-sm-4
            label(for='store') &nbsp;
            button.form-btn.btn.btn-lg.btn-block.btn-success.clearSellingHoursButton(name='view', type='button') Clear Selling Hours
        .col-xs-12.col-sm-4
            label(for='dateRange') Date Range:
            .input-group
                span.input-group-addon#iconAddon
                    i.fa.fa-calendar(aria-hidden='true')
                input.form-control(type='text', id='dateRange', name='dateRange', aria-describedby='iconAddon')
        .col-xs-12.col-lg-10.col-lg-offset-1
            hr
    .panel.panel-primary
        .col-md-12
            .table-responsive
                table.table-condensed.table-bordered.table-nonfluid-report
                    thead
                        tr
                            th
                            th Sunday
                            th Monday
                            th Tuesday
                            th Wednesday
                            th Thursday
                            th Friday
                            th Saturday
                            th Total
                            th Edit
                    tbody
                        tr
                            td
                            th#Sunday
                            th#Monday
                            th#Tuesday
                            th#Wednesday
                            th#Thursday
                            th#Friday
                            th#Saturday
                            th
                            th
                        script(src='/bower_components/bootstrap-daterangepicker/moment.min.js')
                        each user, userIndex in users
                            tr
                                td #{user.first_name} #{user.last_name}
                                td(id='SundayHours'+'#{user.t_number}')
                                td(id='MondayHours'+'#{user.t_number}')
                                td(id='TuesdayHours'+'#{user.t_number}')
                                td(id='WednesdayHours'+'#{user.t_number}')
                                td(id='ThursdayHours'+'#{user.t_number}')
                                td(id='FridayHours'+'#{user.t_number}')
                                td(id='SaturdayHours'+'#{user.t_number}')
                                td
                                td
                                    button.form-btn.btn.btn-lg.btn-block.btn-success(name='view', type='button') Edit
block append script
    script(src='/bower_components/bootstrap-daterangepicker/moment.min.js')
    script(src='/bower_components/bootstrap-daterangepicker/daterangepicker.js')
    script(src='/javascripts/selling-hours/selling-hours.js')
    script.
        var storeObj = JSON.parse('!{storesObj}');
        var userObj = JSON.parse('!{usersObj}');
        var hourObj = JSON.parse('!{hoursObj}');