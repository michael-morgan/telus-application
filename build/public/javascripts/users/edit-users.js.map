{"version":3,"sources":["edit-users.es6"],"names":[],"mappings":";;AAAA,IAAI,UAAJ;;AAEA,IAAI,YAAJ,EAAkB,cAAlB,EAAkC,aAAlC,EACI,UADJ,EACgB,UADhB;;AAGA,IAAM,iBAAiB,CAAvB;AAAA,IAA0B,mBAAmB,CAA7C;AAAA,IAAgD,kBAAkB,CAAlE;AAAA,IACI,cAAc,CADlB;AAAA,IACqB,cAAc,CADnC;;AAGA;AACA,EAAE,YAAM;AACJ,mBAAe,EAAE,eAAF,CAAf;AACA,qBAAiB,EAAE,iBAAF,CAAjB;AACA,oBAAgB,EAAE,gBAAF,CAAhB;AACA,iBAAa,EAAE,aAAF,CAAb;AACA,iBAAa,EAAE,aAAF,CAAb;;AAEA,MAAE,YAAF,EAAgB,EAAhB,CAAmB,gBAAnB,EAAqC,YAAM;AACvC,qBAAa,KAAb;AACH,KAFD;;AAIA,MAAE,yBAAF,EAA6B,OAA7B;;AAEA,iBAAa,CAAC,EAAC,MAAM,UAAP,EAAmB,OAAO,CAA1B,EAAD,EAA+B,EAAC,MAAM,mBAAP,EAA4B,OAAO,CAAnC,EAA/B,EACD,EAAC,MAAM,SAAP,EAAkB,OAAO,CAAzB,EADC,EAC4B,EAAC,MAAM,cAAP,EAAuB,OAAO,CAA9B,EAD5B,CAAb;AAEH,CAfD;;AAiBA,SAAS,iBAAT,CAA2B,KAA3B,EAAkC;AAC9B,iBAAa,GAAb,CAAiB,EAAE,KAAF,EAAS,CAAT,EAAY,QAAZ,CAAqB,cAArB,EAAqC,WAAtD;AACA,mBAAe,GAAf,CAAmB,EAAE,KAAF,EAAS,CAAT,EAAY,QAAZ,CAAqB,gBAArB,EAAuC,WAA1D;AACA,kBAAc,GAAd,CAAkB,EAAE,KAAF,EAAS,CAAT,EAAY,QAAZ,CAAqB,eAArB,EAAsC,WAAxD;AACA,eAAW,GAAX,CAAe,EAAE,KAAF,EAAS,CAAT,EAAY,QAAZ,CAAqB,WAArB,EAAkC,WAAjD;AACA,eAAW,GAAX,CAAe,WAAW,IAAX,CAAgB,UAAC,SAAD;AAAA,eAAe,UAAU,IAAV,IAAkB,EAAE,KAAF,EAAS,CAAT,EAAY,QAAZ,CAAqB,WAArB,EAAkC,WAAnE;AAAA,KAAhB,EAAgG,KAA/G;;AAEA,MAAE,YAAF,EAAgB,KAAhB,CAAsB,MAAtB;AACH;;AAED,SAAS,UAAT,GAAsB;AAClB,MAAE,IAAF,CAAO,aAAP,EAAsB;AAClB,kBAAU,aAAa,GAAb,EADQ;AAElB,oBAAY,eAAe,GAAf,EAFM;AAGlB,mBAAW,cAAc,GAAd,EAHO;AAIlB,eAAO,WAAW,GAAX,EAJW;AAKlB,eAAO,WAAW,GAAX,EALW;AAMlB,kBAAU,EAAE,gBAAF,EAAoB,GAApB;AANQ,KAAtB,EAOG,IAPH,CAOQ,UAAS,MAAT,EAAiB;AACrB,YAAI,OAAO,KAAK,KAAL,CAAW,MAAX,CAAX;AACA,iCAAuB,KAAK,QAA5B,EAAwC,IAAxC;AACH,KAVD;AAWH;;AAED;AACA,SAAS,cAAT,GAA0B,CAAE;;AAE5B,SAAS,WAAT,CAAqB,KAArB,EAA4B,IAA5B,EAAkC;AAC9B,MAAE,KAAF,EAAS,IAAT,oBACU,KAAK,QADf,2BAEU,KAAK,UAFf,2BAGU,KAAK,SAHf,2BAIU,KAAK,KAJf,2BAKU,WAAW,IAAX,CAAgB,UAAC,SAAD;AAAA,eAAe,UAAU,KAAV,IAAmB,KAAK,KAAvC;AAAA,KAAhB,EAA8D,IALxE,oIAOoG,KAAK,QAPzG,6LAYkD,KAAK,QAZvD;AAeH;;AAGD,SAAS,UAAT,GAAsB;AAClB;AACA,YAAQ,OAAR,CAAgB,4CAAhB,EAA8D,UAAC,MAAD,EAAY;AACtE,YAAI,MAAJ,EAAY;AACR;AACA,qBAAS,cAAT,CAAwB,eAAxB,EAAyC,MAAzC;AACH;AACJ,KALD;AAMH","file":"edit-users.js","sourcesContent":["var privileges;\n\nvar tNumberInput, firstNameInput, lastNameInput,\n    emailInput, titleInput;\n\nconst T_NUMBER_INDEX = 0, FIRST_NAME_INDEX = 1, LAST_NAME_INDEX = 2,\n    EMAIL_INDEX = 3, TITLE_INDEX = 4;\n\n// document.ready\n$(() => {\n    tNumberInput = $('#tNumberInput');\n    firstNameInput = $('#firstNameInput');\n    lastNameInput = $('#lastNameInput');\n    emailInput = $('#emailInput');\n    titleInput = $('#titleInput');\n\n    $('#editModal').on('shown.bs.modal', () => {\n        tNumberInput.focus();\n    });\n\n    $('[data-toggle=\"tooltip\"]').tooltip();\n\n    privileges = [{name: 'Employee', value: 1}, {name: 'Assistant Manager', value: 2},\n                {name: 'Manager', value: 3}, {name: 'Area Manager', value: 4}];\n});\n\nfunction populateEditModal(rowId) {\n    tNumberInput.val($(rowId)[0].children[T_NUMBER_INDEX].textContent);\n    firstNameInput.val($(rowId)[0].children[FIRST_NAME_INDEX].textContent);\n    lastNameInput.val($(rowId)[0].children[LAST_NAME_INDEX].textContent);\n    emailInput.val($(rowId)[0].children[EMAIL_INDEX].textContent);\n    titleInput.val(privileges.find((privilege) => privilege.name == $(rowId)[0].children[TITLE_INDEX].textContent).value);\n\n    $('#editModal').modal('show');\n}\n\nfunction updateUser() {\n    $.post(\"/users/edit\", {\n        t_number: tNumberInput.val(),\n        first_name: firstNameInput.val(),\n        last_name: lastNameInput.val(),\n        email: emailInput.val(),\n        title: titleInput.val(),\n        password: $('#passwordInput').val()\n    }).done(function(result) {\n        let data = JSON.parse(result);\n        populateRow(`#userRow${data.t_number}`, data);\n    });\n}\n\n// possible functionality\nfunction clearEditModal() {}\n\nfunction populateRow(rowId, data) {\n    $(rowId).html(`\n        <td>${data.t_number}</td>\n        <td>${data.first_name}</td>\n        <td>${data.last_name}</td>\n        <td>${data.email}</td>\n        <td>${privileges.find((privilege) => privilege.value == data.title).name}</td>\n        <td>\n            <a class=\"btn btn-primary\" href=\"#\" aria-label=\"Edit\" onclick='populateEditModal(\"#userRow${data.t_number}\")'>\n                <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\n            </a>\n        </td>\n        <td>\n            <input class=\"form-control\" name='remove${data.t_number}' type=\"checkbox\">\n        </td>\n    `);\n}\n\n\nfunction deleteUser() {\n    //Confirmation modal that appears when a user attempts to delete another user from the modify users page\n    bootbox.confirm(\"Are you sure you want to delete this user?\", (result) => {\n        if (result) {\n            //If the user clicks on \"OK\" in the confirmation box\n            document.getElementById(\"listUsersForm\").submit();\n        }\n    });\n}"]}