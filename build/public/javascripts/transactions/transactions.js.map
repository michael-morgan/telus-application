{"version":3,"sources":["transactions.es6"],"names":[],"mappings":"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","file":"transactions.js","sourcesContent":["var filteredArray;\r\nvar teamMember;\r\n\r\nvar storesArray;\r\nvar filterTeamMembers = function(transaction) {\r\n    teamMember = $('#teamMember');\r\n    //If the 'All Team Members' was chosen from the drop down, show all transactions\r\n    if(teamMember.val() == 'all')\r\n        return transaction.t_number != teamMember.val();\r\n    //If a team member was chosen from the drop down, show transactions related to that user\r\n    else\r\n        return transaction.t_number == teamMember.val();\r\n}, filterDate = function(transaction) {\r\n    var transactionDate = new Date(transaction.transaction_date);\r\n\r\n    return ((transactionDate >= startDate) && (transactionDate <= endDate));\r\n};\r\nvar startDate;\r\nvar endDate;\r\n\r\n$(function() {\r\n\r\n    storesArray = storeObj\r\n    console.debug(storesArray);\r\n    console.debug(userObj);\r\n\r\n    //Hide the delete message until a transaction has been removed\r\n    $('#deleteMessage').hide();\r\n    //Fade out success message after 5 secconds\r\n    $('#successMessage').fadeOut(5000);\r\n\r\n    var teamDropdown = $(\"#teamMember\");\r\n\r\n    teamDropdown.change(function () {\r\n        //Get the selected user from from the drop down\r\n        teamMember = $('#teamMember');\r\n        filteredArray = storeObj[0].transactions.filter(filterTeamMembers);\r\n\r\n        //Render the transactions and edit the HTML based on team member drop down\r\n        renderTransactions(teamMember.val(), userObj, storeObj[0].privileged, filteredArray.filter(filterDate));\r\n    });\r\n\r\n    $('#dateRange').daterangepicker({\r\n        \"showWeekNumbers\": true,\r\n        \"showCustomRangeLabel\": false,\r\n        \"alwaysShowCalendars\": true,\r\n        \"startDate\": startDate = moment().startOf('day'),\r\n        \"endDate\": endDate = moment().add(7, 'days'),\r\n        \"opens\": \"center\",\r\n        locale: {\r\n            format: \"MMMM D, YYYY\"\r\n        }\r\n    }, function(start, end, label) {\r\n        console.log(\"New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')\");\r\n        startDate = start;\r\n        endDate = end;\r\n\r\n        //Render the transactions and edit the HTML based on team member drop down\r\n        renderTransactions(teamMember.val(), userObj, storeObj[0].privileged, filteredArray.filter(filterDate));\r\n    });\r\n\r\n    //Trigger the drop down change function to load the HTML\r\n    teamDropdown.trigger('change');\r\n});\r\n\r\n\r\n/**\r\n * Delete a transaction, uses AJAX\r\n * @param id\r\n */\r\nfunction deleteTransaction(id) {\r\n    bootbox.confirm(\"Are you sure you want to delete this transaction?\", function(result) {\r\n        if (result == true) {\r\n            $.post(\"/users/transactions\", {'id': id}).done(function(result) {\r\n                $('#transactionID' + id).remove();\r\n                $('#deleteMessage').show();\r\n                $('#removalMessage').html(\"The transaction was successfully deleted.\");\r\n                $('#deleteMessage').fadeOut(5000);\r\n            });\r\n        } //end if\r\n    }); //end confirm;\r\n} //end deleteTransaction\r\n\r\n/**\r\n * This method filter the transactions history by filtering though the array\r\n * @param t_num\r\n * @param users\r\n * @param privileged\r\n * @param transactions\r\n */\r\nfunction renderTransactions(t_num, users, privileged, transactions) {\r\n    if(transactions.length > 0) {\r\n        filteredArray = transactions;\r\n    }\r\n    //console.debug(filteredArray);\r\n\r\n    //Initialize variables for storing data\r\n    var totalDeviceCount = 0;\r\n    var deviceCount = 0;\r\n    var appleDeviceCount = 0;\r\n    var deviceWarrantyCount = 0;\r\n    var appleWarrantyCount = 0;\r\n    var transactionCount = 0;\r\n    var accessoriesCount = 0;\r\n    var controllableTransactionsCount = 0;\r\n    var controllableRevenue = 0;\r\n    var warrantyDevices = 0;\r\n    var otherDevices = 0;\r\n    var sbsCount = 0;\r\n    var tabletCount = 0;\r\n    var hsRevenue = 0;\r\n    var learningSessions = 0;\r\n    var critters = 0;\r\n    var appointments = 0;\r\n    var aotm = 0;\r\n    var donations = 0;\r\n    var creditCards = 0;\r\n\r\n    //Loop through all the transactions\r\n    for (var transactionIndex in transactions) {\r\n\r\n        //If 'All Team Members' was selected, count all transactions\r\n        if (t_num == 'all')\r\n            transactionCount = transactions.length;\r\n        //If a team member was chosen, only show transactions related to them\r\n        else {\r\n            if (transactions[transactionIndex].t_number == t_num)\r\n                transactionCount++\r\n        } //end if\r\n\r\n        //Loop through the transactionsItems for each transactions\r\n        for (var transactionItemsIndex in transactions[transactionIndex].transactionItems) {\r\n\r\n            //If device type is 2 (Android) or 3 (Blackberry), increment the deviceCount\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type == 2 || transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type == 3)\r\n                deviceCount++;\r\n\r\n            //If device type is 1 (iPhone) or 7 (iPad), increment the appleDeviceCount\r\n            else if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type == 1 || transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type == 7)\r\n                appleDeviceCount++;\r\n\r\n            //If device type is not 5 (SIM), increment the totalDeviceCount\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type != 5)\r\n                totalDeviceCount++;\r\n\r\n            //If the transaction type is 1 (Device), add the revenue of the transaction to hsRevenue\r\n            if (transactions[transactionIndex].transaction_type == 1)\r\n                hsRevenue += transactions[transactionIndex].transactionItems[transactionItemsIndex].revenue;\r\n\r\n            //If the warranty type is 1 (Device Care) or 2 (Device Care & T-UP), increment the deviceWarrantyCount\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].warranty_type == 1 || transactions[transactionIndex].transactionItems[transactionItemsIndex].warranty_type == 2)\r\n                deviceWarrantyCount++;\r\n\r\n            //If the warranty type is 3 (AppleCare+) or 4 (AppleCare+ & T-UP), increment the appleWarrantyCount\r\n            else if (transactions[transactionIndex].transactionItems[transactionItemsIndex].warranty_type == 3 || transactions[transactionIndex].transactionItems[transactionItemsIndex].warranty_type == 4)\r\n                appleWarrantyCount++;\r\n\r\n            //If the warranty type is 1 (New Activation) or 2 (Renewal), increment the controllableTransactionsCount\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].activation_type == 1 || transactions[transactionIndex].transactionItems[transactionItemsIndex].activation_type == 2)\r\n                controllableTransactionsCount++;\r\n\r\n            //If 'All Team Members' was selected, sum up all the revenue\r\n            if (t_num == 'all')\r\n                controllableRevenue += transactions[transactionIndex].transactionItems[transactionItemsIndex].revenue;\r\n            //If a team member was chosen, sum up transactions related to them\r\n            else {\r\n                if (transactions[transactionIndex].t_number == t_num)\r\n                    controllableRevenue += transactions[transactionIndex].transactionItems[transactionItemsIndex].revenue;\r\n            }\r\n\r\n            //If the device_type is not 5 (SIM) or 8 (Mobile Internet), increment the warrantyDevices\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type != 5 || transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type != 8)\r\n                warrantyDevices++;\r\n\r\n            //If the device_type is not 1 (iPhone) or 2 (Android), increment the otherDevices\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type != 1 || transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type != 2)\r\n                otherDevices++;\r\n\r\n            //If the sbs_activation is 1 (Yes), increment the sbsCount\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].sbs_activation == 1)\r\n                sbsCount++;\r\n\r\n            //If the device_type is 6 (tablet), increment the tabletCount\r\n            if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type == 6 || transactions[transactionIndex].transactionItems[transactionItemsIndex].device_type == 7)\r\n                tabletCount++;\r\n\r\n            //Sum up all the num_of_accessories\r\n            accessoriesCount += transactions[transactionIndex].transactionItems[transactionItemsIndex].num_of_accessories;\r\n        }//end for transactionItemsIndex\r\n\r\n        //Loop through all the additionalMetricItems per transaction\r\n        for (var metricItemsIndex in transactions[transactionIndex].additionalMetricItems) {\r\n            //Check based on the additional metric type\r\n            switch (transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_type) {\r\n                //If metric type is 1 (Learning Sessions), add the metric count to learningSessions\r\n                case 1:\r\n                    learningSessions += transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_count\r\n                    break\r\n                //If metric type is 2 (AOTM), add the metric count to aotm\r\n                case 2:\r\n                    aotm += transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_count\r\n                    break;\r\n                //If metric type is 3 (Appointments), add the metric count to appointments\r\n                case 3:\r\n                    appointments += transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_count\r\n                    break;\r\n                //If metric type is 4 (Critters), add the metric count to critters\r\n                case 4:\r\n                    critters += transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_count\r\n                    break;\r\n                //If metric type is 5 (Donations), add the metric count to donations\r\n                case 5:\r\n                    donations += transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_count\r\n                    break;\r\n                //If metric type is 6 (Credit Cards), add the metric count to creditCards\r\n                case 6:\r\n                    creditCards += transactions[transactionIndex].additionalMetricItems[metricItemsIndex].additional_metrics_items_count\r\n                    break;\r\n            } //end switch\r\n        } //end for metricItemsIndex\r\n    } //end for transactionIndex\r\n\r\n\r\n    for(var i in storesArray) {\r\n        var summaryContent = '';\r\n        summaryContent += `\r\n        <div role=\"tablist\" aria-multiselectable=\"true\" class=\"panel-group\">\r\n            <div class=\"panel\">\r\n                <div class=\"panel panel-default\">\r\n                    <div role=\"tab\" id=\"transactionHeading${storesArray[i].store_id}\" data-toggle=\"collapse\" data-target=\"#transactionCollapse${storesArray[i].store_id}\" class=\"panel-heading purpleHead collapsed\" aria-expanded=\"false\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-xs-4 text-center\">\r\n                                <h4 class=\"panel-title\">Acc. Units per Transaction:\r\n                                    <strong style=\"margin-left: 5px;\">`;\r\n        //If transactionsCount is 0, display 0\r\n        if (transactionCount <= 0)\r\n            summaryContent += `0%`;\r\n        //Else display the value\r\n        else\r\n            summaryContent += `${parseFloat(Math.round(accessoriesCount / transactionCount)).toFixed(2)}`;\r\n        summaryContent += `\r\n                                    </strong>\r\n                                </h4>\r\n                            </div><!--end col-xs-4 text-center-->\r\n                            <div class=\"col-xs-4 text-center\">\r\n                                <h4 class=\"panel-title\">Basket Size:\r\n                                    <strong style=\"margin-left: 5px;\">`;\r\n        //If transactionsCount is 0, display 0\r\n        if (transactionCount <= 0)\r\n            summaryContent += `${(0).toLocaleString('en-CA', {style: 'currency', currency: 'CAD'})}`;\r\n        //Else display the value\r\n        else\r\n            summaryContent += ` ${(controllableRevenue / transactionCount).toLocaleString('en-CA', {\r\n                style: 'currency',\r\n                currency: 'CAD'\r\n            })}`;\r\n        summaryContent += `\r\n                                    </strong>\r\n                                </h4>\r\n                            </div><!--end col-xs-4 text-center-->\r\n                            <div class=\"col-xs-4 text-center\">\r\n                                <h4 class=\"panel-title\">Average $ per HS:\r\n                                    <strong style=\"margin-left: 5px;\">`;\r\n        //If totalDeviceCount is 0, display 0\r\n        if (totalDeviceCount <= 0)\r\n            summaryContent += `${(0).toLocaleString('en-CA', {style: 'currency', currency: 'CAD'})}`;\r\n        //Else display the value\r\n        else\r\n            summaryContent += ` ${(hsRevenue / totalDeviceCount).toLocaleString('en-CA', {\r\n                style: 'currency',\r\n                currency: 'CAD'\r\n            })}`;\r\n        summaryContent += `\r\n                                    </strong>\r\n                                </h4>\r\n                            </div><!--end row-->\r\n                        </div><!--end -->\r\n                    </div><!--end panel-heading purpleHead collapsed-->\r\n                    <div role=\"tabpanel\" aria-labelledby=\"transactionHeading${storesArray[i].store_id}\" id=\"transactionCollapse${storesArray[i].store_id}\" class=\"panel-collapse collapse\" aria-expanded=\"false\" style=\"height: 0px;\">\r\n                        <div class=\"panel-body\">\r\n                            <div class=\"panel panel-default\">\r\n                                <div class=\"panel-body\">\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Number of Transactions:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${transactionCount}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Device Care:</strong>\r\n                                        <span style=\"margin-left: 5px;\">`;\r\n        //If deviceCount is 0, display 0\r\n        if (deviceCount <= 0)\r\n            summaryContent += `0%`;\r\n        //Else display the value\r\n        else\r\n            summaryContent += `${parseInt(deviceWarrantyCount / deviceCount * 100, 10)}%`;\r\n        summaryContent += `\r\n                                        </span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>iPhone:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${appleDeviceCount}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Controllable Transactions:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${controllableTransactionsCount}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>AppleCare:</strong>\r\n                                        <span style=\"margin-left: 5px;\">`;\r\n        //If appleDeviceCount is 0, display 0\r\n        if (appleDeviceCount <= 0)\r\n            summaryContent += `0%`;\r\n        //Else display the value\r\n        else\r\n            summaryContent += `${parseInt(appleWarrantyCount / appleDeviceCount * 100, 10)}%`;\r\n        summaryContent += `\r\n                                        </span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Android:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${deviceCount}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Controllable Revenue:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${controllableRevenue.toLocaleString('en-CA', {\r\n            style: 'currency',\r\n            currency: 'CAD'\r\n        })}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Warranty:</strong>\r\n                                        <span style=\"margin-left: 5px;\">`;\r\n        //If warrantyDevices is 0, display 0\r\n        if (warrantyDevices <= 0)\r\n            summaryContent += `0%`;\r\n        //Else display the value\r\n        else\r\n            summaryContent += `${parseInt(appleWarrantyCount + deviceWarrantyCount / warrantyDevices * 100, 10)}%`;\r\n        summaryContent += `\r\n                                        </span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Other Devices:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${otherDevices}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12\">\r\n                                        <hr>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>SBS Activations:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${sbsCount}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Learning Sessions:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${learningSessions}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Critters:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${critters}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Appointments:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${appointments}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>AOTM:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${aotm}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Donations:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${donations}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Credit Cards:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${creditCards}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                    <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                                        <strong>Tablets:</strong>\r\n                                        <span style=\"margin-left: 5px;\">${tabletCount}</span>\r\n                                    </div><!--end col-xs-12 col-sm-6 col-md-4-->\r\n                                </div><!--end panel-body-->\r\n                            </div><!--end panel panel-default -->\r\n                        </div><!--end panel-body-->\r\n                    </div><!--end panel-collapse collapse-->\r\n                </div><!--end panel panel-default -->\r\n            </div><!--end col-xs-12 col-lg-10 col-lg-offset-1 -->\r\n        </div><!--end panel group -->`;\r\n        $(`#summaryContainer${storesArray[i].store_id}`).html(summaryContent);\r\n        console.log(storesArray[i].store_id);\r\n    }\r\n\r\n\r\n\r\n//For each transaction\r\n    for(var i in storesArray) {\r\n        var content = '';\r\n        for (var transactionIndex in transactions) {\r\n            //content hold all the HTML for the filtered array\r\n            content += `\r\n       <div id=\"${storesArray[i].store_id}transactionID${transactions[transactionIndex].transaction_id}\" class=\"panel\">\r\n           <div class=\"panel-heading purpleHead\">\r\n               <div role=\"tab\" class=\"row\" id=\"${storesArray[i].store_id}transactionHeading${transactions[transactionIndex].transaction_id}\" data-toggle=\"collapse\" data-target=\"#${storesArray[i].store_id}transactionCollapse${transactions[transactionIndex].transaction_id}\">\r\n                  <div class=\"col-xs-4\">\r\n                       <h4 class=\"panel-title\">${new Date(transactions[transactionIndex].transaction_date).toLocaleDateString()}</h4>\r\n                  </div><!-- end col-xs-4 -->\r\n\r\n                  <div class=\"col-xs-4 text-center\">\r\n                       <h4 class=\"panel-title\">${transactions[transactionIndex].transactionItems.length} Item(s)</h4>\r\n                  </div><!-- end col-xs-4 text-center -->\r\n\r\n                  <div class=\"col-xs-4\">\r\n                       <div class=\"pull-right\">\r\n                           <div style=\"padding:0;\" class=\"col-xs-8\">\r\n                                <h4 class=\"panel-title\">${transactions[transactionIndex].totalRevenue.toLocaleString('en-CA', {\r\n                style: 'currency',\r\n                currency: 'CAD'\r\n            })}</h4>\r\n                           </div><!-- end col-xs-8 -->\r\n                           <div style=\"padding:0;\" class=\"col-xs-4\">`;\r\n            //If the user is privileged to remove transactions'\r\n            if (privileged >= 3) {\r\n                content += `\r\n                                       <div style=\"padding:0;\" class=\"col-xs-4\">\r\n                                           <div style=\"margin-top:6px;\" class=\"dropdown\">\r\n                                               <a id=\"ddMoreOptions\" type=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"true\" class=\"dropdown-toggle\"><i aria-hidden=\"true\" class=\"fa fa-ellipsis-v fa-2x\"></i></a>\r\n                                               <ul aria-labelledby=\"ddMoreOptions\" class=\"dropdown-menu\">\r\n                                                   <li><a href=\"#\" onclick=\"deleteTransaction(${transactions[transactionIndex].transaction_id})\">Remove Transaction</a></li>\r\n                                               </ul>\r\n                                           </div><!-- end dropdown -->\r\n                                       </div><!-- end col-xs-4 -->\r\n                                    `;\r\n            }\r\n            content += `\r\n                           </div><!-- end col-xs-8 -->\r\n                       </div><!-- end pull-right -->\r\n                  </div><!-- end col-xs-4 -->\r\n               </div><!-- end row -->\r\n           </div><!-- end panel heading -->`;\r\n            content += `\r\n           <div class=\"panel-collapse collapse\" role=\"tabpanel\" aria-labelledby=\"${storesArray[i].store_id}transactionHeading${transactions[transactionIndex].transaction_id}\" id=\"${storesArray[i].store_id}transactionCollapse${transactions[transactionIndex].transaction_id}\">\r\n               <div class=\"panel-body\">`;\r\n            //For each transactionItem in a trasactions\r\n            for (var transactionItemsIndex in transactions[transactionIndex].transactionItems) {\r\n                content += `\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Transaction Type:</strong>\r\n                       <span style=\"margin-left: 5px;\">${transactions[transactionIndex].transactionItems[transactionItemsIndex].transactionType}</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Warranty Type:</strong>\r\n                       <span style=\"margin-left: 5px;\">`;\r\n                if (transactions[transactionIndex].transactionItems[transactionItemsIndex].warranty) {\r\n                    content += `${transactions[transactionIndex].transactionItems[transactionItemsIndex].warranty}`;\r\n                } else {\r\n                    content += `None`;\r\n                }\r\n                content += `</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Sale Type:</strong>\r\n                       <span style=\"margin-left: 5px;\">`;\r\n                if (transactions[transactionIndex].transactionItems[transactionItemsIndex].activation) {\r\n                    content += `${transactions[transactionIndex].transactionItems[transactionItemsIndex].activation}`;\r\n                } else {\r\n                    content += `None`;\r\n                }\r\n                content += `</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Attach (Yes/No):</strong>\r\n                       <span style=\"margin-left: 5px;\">${transactions[transactionIndex].transactionItems[transactionItemsIndex].attached === 1 ? 'Yes' : 'No'}</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Device Type:</strong>\r\n                       <span style=\"margin-left: 5px;\">`;\r\n                if (transactions[transactionIndex].transactionItems[transactionItemsIndex].device) {\r\n                    content += `${transactions[transactionIndex].transactionItems[transactionItemsIndex].device}`;\r\n                } else {\r\n                    content += `None`;\r\n                }\r\n                content += `</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Revenue:</strong>\r\n                       <span style=\"margin-left: 5px;\">${transactions[transactionIndex].transactionItems[transactionItemsIndex].revenue.toLocaleString('en-CA', {\r\n                    style: 'currency',\r\n                    currency: 'CAD'\r\n                })}</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>SBS Activation (Yes/No):</strong>\r\n                       <span style=\"margin-left: 5px;\">${transactions[transactionIndex].transactionItems[transactionItemsIndex].sbs_activation === 1 ? 'Yes' : 'No'}</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                       <strong>Number of Accessories:</strong>\r\n                       <span style=\"margin-left: 5px;\">${transactions[transactionIndex].transactionItems[transactionItemsIndex].num_of_accessories}</span>\r\n                   </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                   <div class=\"col-xs-12\">\r\n                       <hr />\r\n                   </div><!-- end col-xs-12 -->\r\n               `;\r\n            }  //end for transactionItems\r\n            //For each additionalMetric\r\n            for (var additionalMetricIndex in transactions[transactionIndex].additionalMetricItems) {\r\n                if (transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_type === 1) {\r\n                    content += `\r\n                           <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                               <strong>Learning Sessions:</strong>\r\n                               <span style=\"margin-left: 5px;\">${transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_count}</span>\r\n                           </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                       `;\r\n                } //end if\r\n                if (transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_type === 2) {\r\n                    content += `\r\n                           <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                               <strong>AOTMs Sold:</strong>\r\n                               <span style=\"margin-left: 5px;\">${transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_count}</span>\r\n                           </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                       `;\r\n                } //end if\r\n                if (transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_type === 3) {\r\n                    content += `\r\n                           <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                               <strong>Appointments:</strong>\r\n                               <span style=\"margin-left: 5px;\">${transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_count}</span>\r\n                           </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                       `;\r\n                } //end if\r\n                if (transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_type === 4) {\r\n                    content += `\r\n                           <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                               <strong>Critters Sold:</strong>\r\n                               <span style=\"margin-left: 5px;\">${transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_count}</span>\r\n                           </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                       `;\r\n                } //end if\r\n\r\n                if (transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_type === 5) {\r\n                    content += `\r\n                           <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                               <strong>Donations:</strong>\r\n                               <span style=\"margin-left: 5px;\">${transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_count}</span>\r\n                           </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                       `;\r\n                } //end if\r\n                if (transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_type === 6) {\r\n                    content += `\r\n                           <div class=\"col-xs-12 col-sm-6 col-md-4\">\r\n                               <strong>Credit Card Apps:</strong>\r\n                               <span style=\"margin-left: 5px;\">${transactions[transactionIndex].additionalMetricItems[additionalMetricIndex].additional_metrics_items_count}</span>\r\n                           </div><!-- end col-xs-12 col-sm-6 col-md-4 -->\r\n                       `;\r\n                } //end if\r\n            } //end for additionalMetricItems\r\n            content += `\r\n               <div class=\"col-xs-12\"></div><!-- end col-xs-12 -->\r\n               <div style=\"margin-top: 25px;\" class=\"col-xs-6\">\r\n                   <div class=\"pull-left\">\r\n                       <strong>Time:</strong>\r\n                       <span style=\"margin-left: 5px;\">${new Date(transactions[transactionIndex].transaction_date).toLocaleTimeString()}</span>\r\n                   </div><!-- end pull-left -->\r\n               </div><!-- end col-xs-6 -->\r\n               <div style=\"margin-top: 25px;\" class=\"col-xs-6\">\r\n                   <div class=\"pull-right\">\r\n                       <strong>Completed By:</strong>\r\n                       <span style=\"margin-left: 5px;\">`;\r\n            for (var userIndex in users) {\r\n                if (users[userIndex].t_number === transactions[transactionIndex].t_number) {\r\n                    content += `${users[userIndex].first_name} ${users[userIndex].last_name}`;\r\n                } //end if\r\n            } //end for\r\n            content += `</span>\r\n                   </div><!-- end pull-right -->\r\n              </div><!-- end col-xs-6 -->\r\n          </div><!-- end panel-body -->\r\n       </div><!-- end panel-collapse collapse -->\r\n   </div> <!-- end panel -->`;\r\n        } //end for transactions\r\n\r\n        $(`#transactionContainer${storesArray[i].store_id}`).html(content);\r\n\r\n    } //end for stores\r\n\r\n\r\n} //end render transaction"]}