{"version":3,"sources":["add-transactions.es6"],"names":[],"mappings":";;AAAA,EAAE,YAAY;AACV;;AAEA,YAAQ,KAAR,CAAc,WAAd;AACA,YAAQ,KAAR,CAAc,SAAd;AACA,YAAQ,KAAR,CAAc,aAAd;AACH,CAND;;AAQA,SAAS,WAAT,GAAuB;AACnB,MAAE,aAAF,EAAiB,KAAjB,CAAuB,UAAU,CAAV,EAAa;AAChC,UAAE,cAAF;;AAEA,YAAI,YAAY,EAAE,IAAF,EAAQ,IAAR,CAAa,YAAb,CAAhB;AACA,YAAI,OAAO,EAAE,IAAF,EAAQ,IAAR,CAAa,WAAb,CAAX;AACA,YAAI,QAAQ,EAAE,iBAAiB,SAAjB,GAA6B,IAA/B,CAAZ;AACA,YAAI,aAAa,SAAS,MAAM,GAAN,EAAT,CAAjB;AACA,YAAI,CAAC,MAAM,UAAN,CAAL,EAAwB;AACpB,gBAAI,QAAQ,OAAZ,EAAqB;AACjB,oBAAI,aAAa,MAAM,IAAN,CAAW,KAAX,CAAjB,EAAoC;AAChC,0BAAM,GAAN,CAAU,aAAa,CAAvB,EAA0B,MAA1B;AACH;AACD,oBAAI,SAAS,MAAM,GAAN,EAAT,KAAyB,MAAM,IAAN,CAAW,KAAX,CAA7B,EAAgD;AAC5C,sBAAE,IAAF,EAAQ,IAAR,CAAa,UAAb,EAAyB,IAAzB;AACH;AAEJ,aARD,MAQO,IAAI,QAAQ,MAAZ,EAAoB;;AAEvB,oBAAI,aAAa,MAAM,IAAN,CAAW,KAAX,CAAjB,EAAoC;AAChC,0BAAM,GAAN,CAAU,aAAa,CAAvB,EAA0B,MAA1B;AACH;AACD,oBAAI,SAAS,MAAM,GAAN,EAAT,KAAyB,MAAM,IAAN,CAAW,KAAX,CAA7B,EAAgD;AAC5C,sBAAE,IAAF,EAAQ,IAAR,CAAa,UAAb,EAAyB,IAAzB;AACH;AAEJ;AACJ,SAnBD,MAmBO;AACH,kBAAM,GAAN,CAAU,CAAV;AACH;AACJ,KA7BD;AA8BA,MAAE,eAAF,EAAmB,OAAnB,CAA2B,YAAY;AACnC,UAAE,IAAF,EAAQ,IAAR,CAAa,UAAb,EAAyB,EAAE,IAAF,EAAQ,GAAR,EAAzB;AACH,KAFD;AAGA,MAAE,eAAF,EAAmB,MAAnB,CAA0B,YAAY;;AAElC,YAAI,WAAW,SAAS,EAAE,IAAF,EAAQ,IAAR,CAAa,KAAb,CAAT,CAAf;AACA,YAAI,WAAW,SAAS,EAAE,IAAF,EAAQ,IAAR,CAAa,KAAb,CAAT,CAAf;AACA,YAAI,eAAe,SAAS,EAAE,IAAF,EAAQ,GAAR,EAAT,CAAnB;;AAEA,YAAI,OAAO,EAAE,IAAF,EAAQ,IAAR,CAAa,MAAb,CAAX;AACA,YAAI,gBAAgB,QAApB,EAA8B;AAC1B,cAAE,gDAAgD,IAAhD,GAAuD,IAAzD,EAA+D,UAA/D,CAA0E,UAA1E;AACH,SAFD,MAEO;AACH,kBAAM,sCAAN;AACA,cAAE,IAAF,EAAQ,GAAR,CAAY,EAAE,IAAF,EAAQ,IAAR,CAAa,UAAb,CAAZ;AACH;AACD,YAAI,gBAAgB,QAApB,EAA8B;AAC1B,cAAE,+CAA+C,IAA/C,GAAsD,IAAxD,EAA8D,UAA9D,CAAyE,UAAzE;AACH,SAFD,MAEO;AACH,kBAAM,sCAAN;AACA,cAAE,IAAF,EAAQ,GAAR,CAAY,EAAE,IAAF,EAAQ,IAAR,CAAa,UAAb,CAAZ;AACH;AAGJ,KArBD;AAsBA,MAAE,eAAF,EAAmB,OAAnB,CAA2B,UAAU,CAAV,EAAa;AACpC;AACA,YAAI,EAAE,OAAF,CAAU,EAAE,OAAZ,EAAqB,CAAC,EAAD,EAAK,CAAL,EAAQ,CAAR,EAAW,EAAX,EAAe,EAAf,EAAmB,GAAnB,EAAwB,GAAxB,CAArB,MAAuD,CAAC,CAAxD;AACI;AACH,UAAE,OAAF,IAAa,EAAb,IAAmB,EAAE,OAAF,KAAc,IAFlC;AAGI;AACH,UAAE,OAAF,IAAa,EAAb,IAAmB,EAAE,OAAF,IAAa,EAJrC,EAI0C;AACtC;AACA;AACH;AACD;AACA,YAAI,CAAC,EAAE,QAAF,IAAe,EAAE,OAAF,GAAY,EAAZ,IAAkB,EAAE,OAAF,GAAY,EAA9C,MAAuD,EAAE,OAAF,GAAY,EAAZ,IAAkB,EAAE,OAAF,GAAY,GAArF,CAAJ,EAA+F;AAC3F,cAAE,cAAF;AACH;AACJ,KAdD;AAeH;;AAGD,IAAI,QAAQ,CAAZ;AACA,SAAS,UAAT,GAAsB;AAClB;AACA,QAAI,eAAe,0CAAwC,KAAxC,GAA8C;;;+EAA9C,GAG0D,KAH1D,GAGgE;;;0FAHhE,GAMoE,KANpE,GAM0E,0BAN1E,GAMqG,KANrG,GAM2G;;;;;;mEAN3G,GAY+C,KAZ/C,GAYuD,4BAZvD,GAYsF,KAZtF,GAY8F;;;;;;;gGAZ9F,GAmB4E,KAnB5E,GAmBoF;;;;;;;+DAnBpF,GA0B2C,KA1B3C,GA0BmD,wBA1BnD,GA0B8E,KA1B9E,GA0BsF;;;;;;;;;;;;;;;;;iEA1BtF,GA2C6C,KA3C7C,GA2CqD,0BA3CrD,GA2CkF,KA3ClF,GA2C0F;;;;;;;;;;;;;yDA3C1F,GAwDqC,KAxDrC,GAwD6C,0BAxD7C,GAwD0E,KAxD1E,GAwDkF;;;;;;;;;;8EAxDlF,GAkE0D,KAlE1D,GAkEkE;;;;;;;;6DAlElE,GA0EyC,KA1EzC,GA0EiD;;;+BA1EpE;AA8EA,MAAE,eAAF,EAAmB,MAAnB,CAA0B,YAA1B;AACA;AACA,MAAE,iBAAF,EAAqB,IAArB,CAA0B,OAA1B,EAAmC,gBAAnC;AACA,MAAE,wBAAF,EAA4B,IAA5B,CAAiC,OAAjC,EAA0C,gBAA1C;AACA,MAAE,cAAF,EAAkB,IAAlB,CAAuB,OAAvB,EAAgC,gBAAhC;AAGH;;AAED,SAAS,WAAT,GAAuB;AACnB,QAAI,eAAe;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;+BAAnB;AAuEA,MAAE,eAAF,EAAmB,IAAnB,CAAwB,YAAxB;AACA,YAAQ,CAAR;AAEH;;AAGD,EAAE,sBAAF,EAA0B,MAA1B,CAAiC,YAAY;AACzC,QAAI,WAAW,SAAS,cAAT,CAAwB,qBAAxB,CAAf;AACA,QAAI,SAAS,KAAT,IAAkB,GAAtB,EAA2B;AACvB,UAAE,iBAAF,EAAqB,IAArB,CAA0B,OAA1B,EAAmC,gBAAnC;AACH,KAFD,MAGK,IAAI,SAAS,KAAT,IAAkB,GAAtB,EAA2B;AAC5B,UAAE,wBAAF,EAA4B,IAA5B,CAAiC,OAAjC,EAA0C,eAA1C;AACA,UAAE,iBAAF,EAAqB,IAArB,CAA0B,OAA1B,EAAmC,eAAnC;AACH;AACD,QAAI,SAAS,KAAT,IAAkB,GAAtB,EAA2B;AACvB,UAAE,iBAAF,EAAqB,IAArB,CAA0B,OAA1B,EAAmC,eAAnC;AACA;AACH;AACD,QAAI,SAAS,KAAT,IAAkB,GAAtB,EAA2B;AACvB,UAAE,wBAAF,EAA4B,IAA5B,CAAiC,OAAjC,EAA0C,gBAA1C;AACH;AACD,MAAE,cAAF,EAAkB,IAAlB,CAAuB,OAAvB,EAAgC,gBAAhC;AACH,CAjBD;;AAmBA;AACA,SAAS,YAAT,GAAwB;AACpB,WAAO,QAAP,CAAgB,IAAhB,GAAuB,qBAAvB;AACH;;AAED,SAAS,YAAT,CAAsB,EAAtB,EAA0B;AACtB,MAAE,YAAU,EAAZ,EAAgB,MAAhB;AACA;AACH","file":"add-transactions.js","sourcesContent":["$(function () {\n    loadButtons();\n\n    console.debug(warrentyObj);\n    console.debug(deviceObj);\n    console.debug(activationObj);\n});\n\nfunction loadButtons() {\n    $('.btn-number').click(function (e) {\n        e.preventDefault();\n\n        var fieldName = $(this).attr('data-field');\n        var type = $(this).attr('data-type');\n        var input = $(\"input[name='\" + fieldName + \"']\");\n        var currentVal = parseInt(input.val());\n        if (!isNaN(currentVal)) {\n            if (type == 'minus') {\n                if (currentVal > input.attr('min')) {\n                    input.val(currentVal - 1).change();\n                }\n                if (parseInt(input.val()) == input.attr('min')) {\n                    $(this).attr('disabled', true);\n                }\n\n            } else if (type == 'plus') {\n\n                if (currentVal < input.attr('max')) {\n                    input.val(currentVal + 1).change();\n                }\n                if (parseInt(input.val()) == input.attr('max')) {\n                    $(this).attr('disabled', true);\n                }\n\n            }\n        } else {\n            input.val(0);\n        }\n    });\n    $('.input-number').focusin(function () {\n        $(this).data('oldValue', $(this).val());\n    });\n    $('.input-number').change(function () {\n\n        var minValue = parseInt($(this).attr('min'));\n        var maxValue = parseInt($(this).attr('max'));\n        var valueCurrent = parseInt($(this).val());\n\n        var name = $(this).attr('name');\n        if (valueCurrent >= minValue) {\n            $(\".btn-number[data-type='minus'][data-field='\" + name + \"']\").removeAttr('disabled')\n        } else {\n            alert('Sorry, the minimum value was reached');\n            $(this).val($(this).data('oldValue'));\n        }\n        if (valueCurrent <= maxValue) {\n            $(\".btn-number[data-type='plus'][data-field='\" + name + \"']\").removeAttr('disabled')\n        } else {\n            alert('Sorry, the maximum value was reached');\n            $(this).val($(this).data('oldValue'));\n        }\n\n\n    });\n    $(\".input-number\").keydown(function (e) {\n        // Allow: backspace, delete, tab, escape, enter and .\n        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 110, 190]) !== -1 ||\n                // Allow: Ctrl+A\n            (e.keyCode == 65 && e.ctrlKey === true) ||\n                // Allow: home, end, left, right\n            (e.keyCode >= 35 && e.keyCode <= 39)) {\n            // let it happen, don't do anything\n            return;\n        }\n        // Ensure that it is a number and stop the keypress\n        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {\n            e.preventDefault();\n        }\n    })\n}\n\n\nvar count = 2;\nfunction addDevices() {\n    //Add device fields\n    var deviceFields = '<div class=\"single-device\" id=\"device'+count+'\">\\\n                            <div class=\"form-group show-if-device\">\\\n                                <div class=\"col-sm-4\">\\\n                                    <h3 class=\"device show-if-device\">Device  ' +count+'</h3>\\\n                                </div>\\\n                                <div class=\"col-sm-8\">\\\n                                <a class=\"btn-remove pull-left btn btn-danger\" id=\"remove'+count+'\" onclick=\"removeDevice('+count+')\">X</a>\\\n                                </div>\\\n                            </div>\\\n                            <div class=\"form-group show-if-device\">\\\n                                <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Activation Type:</span></div>\\\n                                <div class=\"col-sm-10\">\\\n                                    <select id=\"activationDropdown' + count + '\" name=\"activationDropdown' + count + '\" class=\"transact\">\\\n                                        <option disabled=\"\" selected=\"\" value=\"0\">Select Activation Type</option>\\\n                                        <option value=\"1\">New Activation</option>\\\n                                        <option value=\"2\">Renewal</option>\\\n                                        <option value=\"3\">Prepaid</option>\\\n                                        <option value=\"4\">Outright</option>\\\n                                    </select>\\\n                                    <div class=\"sbs\"><input type=\"checkbox\" name=\"sbsActivation' + count + '\"><span>SBS Activation?</span></div>\\\n                                </div>\\\n                            </div>\\\n                            <!--Show only if transaction type is device-->\\\n                            <div class=\"form-group show-if-device\">\\\n                                <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Device Type:</span></div>\\\n                                <div class=\"col-sm-10\">\\\n                                    <select id=\"deviceDropdown' + count + '\" name=\"deviceDropdown' + count + '\" class=\"transact\">\\\n                                        <option disabled=\"\" selected=\"\" value=\"0\">Select Device Type</option>\\\n                                        <option value=\"1\">iPhone</option>\\\n                                        <option value=\"2\">Android</option>\\\n                                        <option value=\"3\">Blackberry</option>\\\n                                        <option value=\"4\">Other Device</option>\\\n                                        <option value=\"5\">SIM</option>\\\n                                        <option value=\"6\">Tablet</option>\\\n                                        <option value=\"7\">iPad</option>\\\n                                        <option value=\"8\">Mobile Internet</option>\\\n                                    </select>\\\n                                </div>\\\n                            </div>\\\n                            <!--Show only if transaction type is device-->\\\n                            <div class=\"form-group show-if-device\">\\\n                                <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Warranty Type:</span></div>\\\n                                <div class=\"col-sm-10\">\\\n                                    <select id=\"warrantyDropdown' + count + '\" name=\"warrantyDropdown' + count + '\" class=\"warrantyDropdown\">\\\n                                        <option disabled=\"\" selected=\"\" value=\"0\" class=\"transact\">Select Warranty Type</option>\\\n                                        <option value=\"1\">Device Care</option>\\\n                                        <option value=\"2\">Device Care &amp; T-UP</option>\\\n                                        <option value=\"3\">AppleCare+</option>\\\n                                        <option value=\"4\">AppleCare+ &amp; T-UP</option>\\\n                                    </select>\\\n                                </div>\\\n                            </div>\\\n                            <!--Show only on all transaction types, but Accessory-->\\\n                            <div class=\"form-group show-if-not-accessory\">\\\n                                <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Attached?</span></div>\\\n                                <div class=\"col-sm-10\">\\\n                                    <select id=\"attached' + count + '\" name=\"attachedDropdown' + count + '\" class=\"transact\">\\\n                                        <option selected=\"\" value=\"no\">No</option>\\\n                                        <option value=\"yes\">Yes</option>\\\n                                    </select>\\\n                                </div>\\\n                            </div>\\\n                            <!--Show on all transaction types-->\\\n                            <div class=\"form-group show-on-all\">\\\n                                <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Number of Accessories:</div></span>\\\n                                <div class=\"col-sm-10\">\\\n                                    <input type=\"number\" name=\"accessoryCount' + count + '\" value=\"0\" min=\"0\" max=\"100\" class=\"form-control input-number\">\\\n                                </div>\\\n                            </div>\\\n                            <div class=\"form-group show-on-all\" style=\"display: block\">\\\n                                <div class=\"col-sm-2 text-right transaction\">\\\n                                    <span class=\"transaction\">Revenue:</span>\\\n                                </div>\\\n                                <div class=\"col-sm-10\">\\\n                                    <input name=\"revenueText' + count + '\" placeholder=\"Revenue\" type=\"text\" min=\"0\" max=\"1000000\" class=\"form-control formInput input-number\">\\\n                                </div>\\\n                            </div>\\\n                        </div>';\n    $('.device-group').append(deviceFields);\n    count++;\n    $('.show-if-device').attr('style', 'display: block');\n    $('.show-if-not-accessory').attr('style', 'display: block');\n    $('.show-on-all').attr('style', 'display: block');\n\n\n}\n\nfunction resetDevice() {\n    var deviceFields = '<div class=\"single-device\">\\\n                            <h3 class=\"device show-if-device\">Device 1</h3>\\\n                                <div class=\"form-group show-if-device\">\\\n                                    <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Activation Type:</span></div>\\\n                                        <div class=\"col-sm-10\">\\\n                                            <select id=\"activationDropdown\" name=\"activationDropdown\" class=\"transact\">\\\n                                                <option disabled=\"\" selected=\"\" value=\"0\">Select Activation Type</option>\\\n                                                <option value=\"1\">New Activation</option>\\\n                                                <option value=\"2\">Renewal</option>\\\n                                                <option value=\"3\">Prepaid</option>\\\n                                                <option value=\"4\">Outright</option>\\\n                                            </select>\\\n                                        <div class=\"sbs\"><input type=\"checkbox\" name=\"sbsActivation\"><span>SBS Activation?</span></div>\\\n                                    </div>\\\n                                </div>\\\n                        <!--Show only if transaction type is device-->\\\n                        <div class=\"form-group show-if-device\">\\\n                            <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Device Type:</span></div>\\\n                            <div class=\"col-sm-10\">\\\n                                <select id=\"deviceDropdown\" name=\"deviceDropdown\" class=\"transact\">\\\n                                    <option disabled=\"\" selected=\"\" value=\"0\">Select Device Type</option>\\\n                                    <option value=\"1\">iPhone</option>\\\n                                    <option value=\"2\">Android</option>\\\n                                    <option value=\"3\">Blackberry</option>\\\n                                    <option value=\"4\">Other Device</option>\\\n                                    <option value=\"5\">SIM</option>\\\n                                    <option value=\"6\">Tablet</option>\\\n                                    <option value=\"7\">iPad</option>\\\n                                    <option value=\"8\">Mobile Internet</option>\\\n                                </select>\\\n                            </div>\\\n                        </div>\\\n                        <!--Show only if transaction type is device-->\\\n                        <div class=\"form-group show-if-device\">\\\n                            <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Warranty Type:</span></div>\\\n                            <div class=\"col-sm-10\">\\\n                                <select id=\"warrantyDropdown\" name=\"warrantyDropdown\" class=\"warrantyDropdown\">\\\n                                    <option disabled=\"\" selected=\"\" value=\"0\" class=\"transact\">Select Warranty Type</option>\\\n                                    <option value=\"1\">Device Care</option>\\\n                                    <option value=\"2\">Device Care &amp; T-UP</option>\\\n                                    <option value=\"3\">AppleCare+</option>\\\n                                    <option value=\"4\">AppleCare+ &amp; T-UP</option>\\\n                                </select>\\\n                            </div>\\\n                        </div>\\\n                        <!--Show only on all transaction types, but Accessory-->\\\n                        <div class=\"form-group show-if-not-accessory\">\\\n                            <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Attached?</span></div>\\\n                            <div class=\"col-sm-10\">\\\n                                <select id=\"attached\" name=\"attachedDropdown\" class=\"transact\">\\\n                                    <option selected=\"\" value=\"no\">No</option>\\\n                                    <option value=\"yes\">Yes</option>\\\n                                </select>\\\n                            </div>\\\n                        </div>\\\n                        <!--Show on all transaction types-->\\\n                        <div class=\"form-group show-on-all\">\\\n                            <div class=\"col-sm-2 text-right transaction\"><span class=\"transaction\">Number of Accessories:</div></span>\\\n                                <div class=\"col-sm-10\">\\\n                                    <input type=\"number\" name=\"accessoryCount\" value=\"0\" min=\"0\" max=\"100\" class=\"form-control input-number\">\\\n                                </div>\\\n                            </div>\\\n                        <div class=\"form-group show-on-all\" style=\"display: block\">\\\n                            <div class=\"col-sm-2 text-right transaction\">\\\n                                    <span class=\"transaction\">Revenue:</span>\\\n                            </div>\\\n                            <div class=\"col-sm-10\">\\\n                                <input name=\"revenueText\" placeholder=\"Revenue\" type=\"text\" min=\"0\" max=\"1000000\" class=\"form-control formInput input-number\">\\\n                            </div>\\\n                        </div>\\\n                        </div>';\n    $('.device-group').html(deviceFields);\n    count = 2;\n\n}\n\n\n$(\"#transactionDropdown\").change(function () {\n    var selector = document.getElementById('transactionDropdown');\n    if (selector.value == \"1\") {\n        $('.show-if-device').attr('style', 'display: block');\n    }\n    else if (selector.value == \"2\") {\n        $('.show-if-not-accessory').attr('style', 'display: none');\n        $('.show-if-device').attr('style', 'display: none');\n    }\n    if (selector.value != \"1\") {\n        $('.show-if-device').attr('style', 'display: none');\n        resetDevice();\n    }\n    if (selector.value != \"2\") {\n        $('.show-if-not-accessory').attr('style', 'display: block');\n    }\n    $('.show-on-all').attr('style', 'display: block');\n});\n\n//This function is called when the user presses the cancel button while adding a transaction\nfunction cancelButton() {\n    window.location.href = '/users/transactions';\n};\n\nfunction removeDevice(id) {\n    $('#device'+id).remove();\n    count--;\n};\n\n"]}