{"version":3,"sources":["selling-hours.es6"],"names":[],"mappings":"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","file":"selling-hours.js","sourcesContent":["var storesArray;\r\nvar filteredArray;\r\nvar teamMember;\r\nvar store;\r\n\r\nvar startDate;\r\nvar endDate;\r\n\r\n$(() => {\r\n    storesArray = JSON.parse(JSON.stringify(storeObj));\r\n    getDaysOfTheWeek();\r\n    displayEmployeeHours();\r\n    console.debug(storesArray);\r\n    console.debug(userObj);\r\n    //console.debug(hourObj);\r\n    //Hide the delete message until a transaction has been removed\r\n    $('#deleteMessage').hide();\r\n\r\n    //Fade out success message after 5 seconds\r\n    $('#successMessage').fadeOut(5000);\r\n\r\n    var store = $(\"#store\");\r\n\r\n    store.change((event) => {\r\n        //Get the selected user from from the drop down\r\n        teamMember = $('#store');\r\n\r\n        applyFilter();\r\n    });\r\n\r\n    $('#dateRange').daterangepicker({\r\n        \"showWeekNumbers\": true,\r\n        \"showCustomRangeLabel\": false,\r\n        \"alwaysShowCalendars\": true,\r\n        \"startDate\": startDate = moment().startOf('day'),\r\n        \"endDate\": endDate = moment().add(7, 'days'),\r\n        \"opens\": \"center\",\r\n        locale: {\r\n            format: \"MMMM D, YYYY\"\r\n        }\r\n    }, function(start, end, label) {\r\n        console.log(\"New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')\");\r\n        startDate = start;\r\n        endDate = end;\r\n\r\n        applyFilter();//\r\n\r\n        //Render the transactions and edit the HTML based on team member drop down\r\n        renderTransactions(teamMember.val(), userObj, storeObj[0].privileged, filteredArray);\r\n    });\r\n\r\n    //Trigger the drop down change function to load the HTML\r\n    store.trigger('change');\r\n});\r\n//Retrieve hours from array and display them in the appropriate row\r\nfunction displayEmployeeHours()\r\n{\r\n    for(var user in userObj) {\r\n        for (var hour in hourObj) {\r\n            if (moment().startOf('day').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#SundayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n            if (moment().add(1, 'days').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#MondayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n            if (moment().add(2, 'days').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#TuesdayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n            if (moment().add(3, 'days').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#WednesdayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n            if (moment().add(4, 'days').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#ThursdayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n            if (moment().add(5, 'days').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#FridayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n            if (moment().add(6, 'days').format(\"YYYY-MM-DD\") == hourObj[hour].date.substring(0, 10)\r\n                && userObj[user].t_number == hourObj[hour].team_member)\r\n                $('#SaturdayHours'+userObj[user].t_number+'').text(hourObj[hour].selling_hours);\r\n        }\r\n    }\r\n}\r\nfunction updateUser() {\r\n    $.post(\"/users/selling-hours\", {\r\n        t_member: tNumberInput.val(),\r\n        store_id: firstNameInput.val(),\r\n        selling_hours: lastNameInput.val(),\r\n    }).done(function(result) {\r\n        let data = JSON.parse(result);\r\n        populateRow(`#userRow${data.t_number}`, data);\r\n    });\r\n}\r\n\r\nfunction populateRow(rowId, data) {\r\n    $(rowId).html(`\r\n        <td>${data.t_number}</td>\r\n        <td>${data.first_name}</td>\r\n        <td>${data.last_name}</td>\r\n        <td>${data.email}</td>\r\n        <td>${privileges.find((privilege) => privilege.value == data.title).name}</td>\r\n        <td>\r\n            <a class=\"btn btn-primary\" href=\"#\" aria-label=\"Edit\" onclick='populateEditModal(\"#userRow${data.t_number}\")'>\r\n                <i class=\"fa fa-pencil-square-o\" aria-hidden=\"true\"></i>\r\n            </a>\r\n        </td>\r\n        <td>\r\n            <input class=\"form-control\" name='remove${data.t_number}' type=\"checkbox\">\r\n        </td>\r\n    `);\r\n}\r\n//Get the current dates for the week\r\nfunction getDaysOfTheWeek()\r\n{\r\n    var monday,tuesday,wednesday,thursday,friday,saturday, sunday;\r\n\r\n    sunday = moment().startOf('day').format('MMMM-DD');\r\n    monday = moment().add(1, 'days').format('MMMM-DD');\r\n    tuesday = moment().add(2, 'days').format('MMMM-DD');\r\n    wednesday = moment().add(3, 'days').format('MMMM-DD');\r\n    thursday = moment().add(4, 'days').format('MMMM-DD');\r\n    friday = moment().add(5, 'days').format('MMMM-DD');\r\n    saturday = moment().add(6, 'days').format('MMMM-DD');\r\n\r\n    $('#Sunday').text(sunday);\r\n    $('#Monday').text(monday);\r\n    $('#Tuesday').text(tuesday);\r\n    $('#Wednesday').text(wednesday);\r\n    $('#Thursday').text(thursday);\r\n    $('#Friday').text(friday);\r\n    $('#Saturday').text(saturday);\r\n}\r\nfunction applyFilter() {}\r\n\r\n\r\n"]}