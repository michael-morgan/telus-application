{"version":3,"sources":["token.es6"],"names":[],"mappings":";;AAAA;;;AAGA,IAAI,aAAa,QAAQ,eAAR,CAAjB;;AAEA,QAAQ,MAAR,GAAiB,UAAS,KAAT,EAAgB,IAAhB,EAAsB;AACnC,eAAW,GAAX,GAAiB,KAAjB,CAAuB,4BAAvB,EAAqD,CAAC,KAAD,CAArD,EAA8D,UAAS,KAAT,EAAgB,MAAhB,EAAwB;AAClF,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,OAAO,QAAlB;AACH,KAND;AAOH,CARD;;AAUA,QAAQ,UAAR,GAAqB,UAAS,KAAT,EAAgB,IAAhB,EAAsB;AACvC,eAAW,GAAX,GAAiB,KAAjB,CAAuB,wCAAvB,EAAiE,KAAjE,EAAwE,UAAS,KAAT,EAAgB,MAAhB,EAAwB;AAC5F,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,OAAO,YAAlB;AACH,KAND;AAOH,CARD;;AAUA,QAAQ,WAAR,GAAsB,UAAS,MAAT,EAAiB,IAAjB,EAAuB;AACzC,eAAW,GAAX,GAAiB,KAAjB,CAAuB,2CAAvB,EAAoE,CAAC,MAAD,CAApE,EAA8E,UAAS,KAAT,EAAgB,MAAhB,EAAwB;AAClG,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,OAAO,YAAlB;AACH,KAND;AAOH,CARD;;AAUA,QAAQ,OAAR,GAAkB,UAAS,KAAT,EAAgB,IAAhB,EAAsB;AACpC,eAAW,GAAX,GAAiB,KAAjB,CAAuB,0CAAvB,EAAmE,KAAnE,EAA0E,UAAS,KAAT,EAAgB,MAAhB,EAAwB;AAC9F,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,MAAX;AACH,KAND;AAOH,CARD","file":"token.js","sourcesContent":["/**\r\n * Created by michael on 07/05/16.\r\n */\r\nvar connection = require('../connection');\r\n\r\nexports.create = function(token, done) {\r\n    connection.get().query('INSERT INTO `tokens` SET ?', [token], function(error, result) {\r\n        if(error) {\r\n            return done(error);\r\n        }\r\n\r\n        done(null, result.insertId);\r\n    });\r\n};\r\n\r\nexports.deleteById = function(token, done) {\r\n    connection.get().query('DELETE FROM `tokens` WHERE `token` = ?', token, function(error, result) {\r\n        if(error) {\r\n            return done(error);\r\n        }\r\n\r\n        done(null, result.affectedRows);\r\n    });\r\n};\r\n\r\nexports.deleteByIds = function(tokens, done) {\r\n    connection.get().query('DELETE FROM `tokens` WHERE `token` IN (?)', [tokens], function(error, result) {\r\n        if(error) {\r\n            return done(error);\r\n        }\r\n\r\n        done(null, result.affectedRows);\r\n    });\r\n};\r\n\r\nexports.getById = function(token, done) {\r\n    connection.get().query('SELECT * FROM `tokens` WHERE `token` = ?', token, function(error, result) {\r\n        if(error) {\r\n            return done(error);\r\n        }\r\n\r\n        done(null, result);\r\n    });\r\n};"]}