{"version":3,"sources":["selling-hours.es6"],"names":[],"mappings":";;AAAA;;;AAGA,IAAI,aAAa,QAAQ,eAAR,CAAjB;;AAEA,QAAQ,MAAR,GAAiB,UAAC,KAAD,EAAQ,IAAR,EAAiB;AAC9B,eAAW,GAAX,GAAiB,KAAjB,CAAuB,4CAAvB,EAAqE,CAAC,KAAD,CAArE,EAA8E,UAAC,KAAD,EAAQ,MAAR,EAAmB;AAC7F,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,OAAO,QAAlB;AACH,KAND;AAOH,CARD;;AAUA,QAAQ,+BAAR,GAA0C,UAAC,EAAD,EAAI,IAAJ,EAAa;AACnD,eAAW,GAAX,GAAiB,KAAjB,CAAuB,8HACvB,uGADuB,GAEnB,uEAFJ,EAE4E,EAF5E,EAEgF,UAAC,KAAD,EAAQ,MAAR,EAAmB;AAC/F,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,MAAX;AACH,KARD;AASH,CAVD;;AAYA,QAAQ,eAAR,GAA0B,UAAC,MAAD,EAAS,IAAT,EAAkB;AACxC,eAAW,GAAX,GAAiB,KAAjB,CAAuB,yGAAvB,EAAkI,MAAlI,EAA0I,UAAC,KAAD,EAAQ,MAAR,EAAmB;AACzJ,YAAG,KAAH,EAAU;AACN,mBAAO,KAAK,KAAL,CAAP;AACH;;AAED,aAAK,IAAL,EAAW,OAAO,WAAlB;AACH,KAND;AAOH,CARD","file":"selling-hours.js","sourcesContent":["/**\n * Created by jacob on 08/06/16.\n */\nvar connection = require('../connection');\n\nexports.create = (hours, done) => {\n    connection.get().query('INSERT INTO `selling_hours_schedule` SET ?', [hours], (error, result) => {\n        if(error) {\n            return done(error);\n        }\n\n        done(null, result.insertId);\n    });\n};\n\nexports.getHoursByStoreIDForCurrentWeek = (id,done) => {\n    connection.get().query('SELECT * FROM selling_hours_schedule INNER JOIN stores_util ON selling_hours_schedule.team_member = stores_util.t_number '+\n    'WHERE selling_hours_schedule.store_id = stores_util.store_id AND selling_hours_schedule.store_id = ? '+\n        'AND YEARWEEK(selling_hours_schedule.date, 1) = YEARWEEK(CURDATE(), 0)',id, (error, result) => {\n        if(error) {\n            return done(error);\n        }\n\n        done(null, result);\n    });\n};\n\nexports.updateHoursByID = (values, done) => {\n    connection.get().query('UPDATE selling_hours_schedule SET selling_hours = ? WHERE team_member = ? AND store_id = ? and date = ?', values, (error, result) => {\n        if(error) {\n            return done(error);\n        }\n\n        done(null, result.changedRows);\n    });\n};"]}